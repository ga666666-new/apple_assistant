import{d as k,v as L,c as j,a as u,o as i,b as o,e as a,w as r,F as M,r as N,f as E,C as R,t as d,g as z,_ as $,u as D,h as B,i as U,j as Q,k as G,l as H,m as q,n as J,I as K,p as O,S as W,q as X,s as S,x as I,B as Y,y as Z,M as ee,z as se,A as oe,D as x,E as C}from"./index-zGJcEfyb.js";/* empty css              *//* empty css              *//* empty css              */import{u as ae}from"./loading-Bd7RDGQN.js";const ne={class:"banner"},te={class:"banner-inner"},re={class:"carousel-title"},ie={class:"carousel-sub-title"},le=["src"],ce=k({__name:"banner",setup(n){const{t:e}=L.useI18n(),g=j(()=>[{slogan:e("login.banner.slogan1"),subSlogan:e("login.banner.subSlogan1"),image:"https://www.nuogobrand.com/uploads/image/20210317/1615974678.jpg"},{slogan:e("login.banner.slogan2"),subSlogan:e("login.banner.subSlogan2"),image:"https://www.nuogobrand.com/uploads/image/20210317/1615976549.jpg"},{slogan:e("login.banner.slogan3"),subSlogan:e("login.banner.subSlogan3"),image:"https://www.nuogobrand.com/uploads/image/20210317/1615975995.jpg"}]);return(l,v)=>{const m=R,_=z;return i(),u("div",ne,[o("div",te,[a(_,{class:"carousel","animation-name":"fade"},{default:r(()=>[(i(!0),u(M,null,N(g.value,s=>(i(),E(m,{key:s.slogan},{default:r(()=>[(i(),u("div",{key:s.slogan,class:"carousel-item"},[o("div",re,d(s.slogan),1),o("div",ie,d(s.subSlogan),1),o("img",{class:"carousel-image",src:s.image},null,8,le)]))]),_:2},1024))),128))]),_:1})])])}}}),de=$(ce,[["__scopeId","data-v-22ab8df4"]]),ue={class:"login-form-wrapper"},ge={class:"login-form-title"},me={key:0,class:"error-message"},_e={class:"login-form-password-actions"},pe=k({__name:"login-form",setup(n){const e=D(),{t:g}=L.useI18n(),l=B(""),{loading:v,setLoading:m}=ae(),_=U(),s=Q("login-config",{rememberPassword:!0,username:"admin",password:"admin",key:""}),f=G({username:s.value.username,password:s.value.password,key:H()}),F=async({errors:t,values:c})=>{if(!v.value&&!t){m(!0);try{await _.login(c);const{redirect:p,...h}=e.currentRoute.value.query;e.push({name:p||"Index",query:{...h}}),ee.success(g("login.form.login.success"));const{rememberPassword:b}=s.value,{username:w,password:y}=c;s.value.username=b?w:"",s.value.password=b?y:""}catch(p){l.value=p.message}finally{m(!1)}}},P=t=>{s.value.rememberPassword=t};return(t,c)=>{const p=O,h=K,b=J,w=X,y=Y,V=W,A=Z;return i(),u("div",ue,[o("div",ge,d(t.$t("login.form.title")),1),c[1]||(c[1]=o("div",{class:"login-form-sub-title"},"Apple Assistant 智能管理平台",-1)),l.value?(i(),u("div",me,d(l.value),1)):q("",!0),a(A,{ref:"loginForm",model:f,class:"login-form",layout:"vertical",onSubmit:F},{default:r(()=>[a(b,{field:"key",rules:[{required:!0,message:t.$t("login.form.token.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:r(()=>[a(h,{modelValue:f.key,"onUpdate:modelValue":c[0]||(c[0]=T=>f.key=T),placeholder:t.$t("login.form.key.placeholder"),"allow-clear":""},{prefix:r(()=>[a(p)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),a(V,{size:16,direction:"vertical"},{default:r(()=>[o("div",_e,[a(w,{checked:"rememberPassword","model-value":S(s).rememberPassword,onChange:P},{default:r(()=>[I(d(t.$t("login.form.key")),1)]),_:1},8,["model-value","onChange"])]),a(y,{type:"primary","html-type":"submit",long:"",loading:S(v)},{default:r(()=>[I(d(t.$t("login.form.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}}),ve=$(pe,[["__scopeId","data-v-434ae756"]]),be=k({components:{LoginBanner:de,LoginForm:ve},setup(){const n=B(!0);return se(async()=>{try{await oe(),await new Promise(l=>setTimeout(l,600));const e=document.querySelector(".banner"),g=document.querySelector(".login-form-wrapper");e&&g?n.value=!1:setTimeout(()=>{n.value=!1},400)}catch{setTimeout(()=>{n.value=!1},1e3)}}),{loading:n}}}),fe={class:"login-container"},he={key:0,class:"loading-overlay"},we={class:"loading-content"},ye={class:"loading-text"},ke={class:"container"},$e={class:"content"},Se={class:"content-inner"};function Ie(n,e,g,l,v,m){const _=x("LoginBanner"),s=x("LoginForm");return i(),u("div",fe,[n.loading?(i(),u("div",he,[o("div",we,[e[0]||(e[0]=C('<div class="loading-logo" data-v-85243bac><img alt="logo" src="https://imei.top/favicon.ico" data-v-85243bac><div class="logo-text" data-v-85243bac>Apple Assistant</div></div><div class="loading-spinner" data-v-85243bac><div class="spinner" data-v-85243bac></div></div>',2)),o("div",ye,d(n.$t("login.loading.text")),1)])])):q("",!0),e[2]||(e[2]=C('<div class="background-decoration" data-v-85243bac><div class="bg-circle bg-circle-1" data-v-85243bac></div><div class="bg-circle bg-circle-2" data-v-85243bac></div><div class="bg-circle bg-circle-3" data-v-85243bac></div><div class="bg-triangle bg-triangle-1" data-v-85243bac></div><div class="bg-triangle bg-triangle-2" data-v-85243bac></div><div class="bg-square bg-square-1" data-v-85243bac></div><div class="bg-gradient" data-v-85243bac></div></div>',1)),o("div",ke,[e[1]||(e[1]=o("div",{class:"logo"},[o("img",{alt:"logo",src:"https://imei.top/favicon.ico"}),o("div",{class:"logo-text"},"Apple Assistant")],-1)),a(_),o("div",$e,[o("div",Se,[a(s)])])])])}const Fe=$(be,[["render",Ie],["__scopeId","data-v-85243bac"]]);export{Fe as default};
